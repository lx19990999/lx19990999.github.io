<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>NetworkException</title>
  
  
  
  <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
  
<link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">

  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
<div class="Shell">
    <aside class='SideBar'>
    <section class='avatar' style="background-image: url()">
        <div class='av-pic' style="background-image: url(/assets/tree_small.png)">
        </div>
    </section>
    <section class='menu'>
        <div>NetworkException</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <ul class="Index">
  
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2024/10/30/termux%E9%85%8D%E7%BD%AEbashrc%E5%AE%9E%E7%8E%B0ssh%E3%80%81vnc%E8%87%AA%E5%90%AF%E5%8A%A8/">termux配置bashrc实现ssh、vnc自启动</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2024-10-30T02:31:27.000Z" itemprop="datePublished">
    2024-10-30
  </time>
  
  
</div>

    </header>
    <div>
      
        <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 检查并启动 ssh</span><br><span class="line">if ! pgrep -af &quot;sshd&quot; &gt; /dev/null; then</span><br><span class="line">sshd</span><br><span class="line">fi</span><br><span class="line"># 检查并启动 VNC 服务器</span><br><span class="line">if ! pgrep -af &quot;vnc&quot; &gt; /dev/null; then</span><br><span class="line">rm -rf /data/data/com.termux/files/usr/tmp/.X11-unix</span><br><span class="line">rm -rf /data/data/com.termux/files/usr/tmp/.X1-lock</span><br><span class="line">vncserver :1</span><br><span class="line">fi</span><br><span class="line"># 检查并启动 Python HTTP 服务器</span><br><span class="line">if ! pgrep -af &quot;python&quot; &gt; /dev/null; then</span><br><span class="line">python -m http.server2 &amp;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2024/03/21/%E7%81%AB%E7%8B%90%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE/">火狐自定义配置</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2024-03-21T10:17:50.000Z" itemprop="datePublished">
    2024-03-21
  </time>
  
  
</div>

    </header>
    <div>
      
        <p>地址栏打开about:config</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">xpinstall.signatures.required ＝ false     //关闭扩展签名验证</span><br><span class="line">loop.enabled = false //disable Firefox Hello</span><br><span class="line">browser.pocket.enabled = false //disable Pocket plugin</span><br><span class="line">reader.parse-on-load.enabled = false //disable Reader View</span><br><span class="line">media.peerconnection.enabled = false //disable WebRTC</span><br><span class="line">dom.webnotifications.enabled = false //网站通知</span><br><span class="line">browser.tabs.loadBookmarksInTabs=true //新标签页打开</span><br><span class="line">toolkit.legacyUserProfileCustomizations.stylesheets=true //使用自定义样式</span><br><span class="line">ui.key.menuAccessKeyFocuses=false //屏蔽alt</span><br></pre></td></tr></table></figure>
<p>地址栏打开about:support，打开配置文件夹<br>新建chrome文件夹，再新建userChrome.css。这里参考了一堆网上的内容……</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#titlebar,</span><br><span class="line">#tabbrowser-tabs &#123;</span><br><span class="line">  --tab-min-height: 30px !important;</span><br><span class="line">&#125;</span><br><span class="line">.titlebar-spacer[type=&quot;pre-tabs&quot;] &#123;</span><br><span class="line">  width: 5px !important; /* Original: 40px */</span><br><span class="line">&#125;</span><br><span class="line">.titlebar-spacer[type=&quot;post-tabs&quot;] &#123;</span><br><span class="line">  width: 25px !important; /* Original: 40px */</span><br><span class="line">&#125;</span><br><span class="line">#PersonalToolbar,</span><br><span class="line">#PersonalToolbar menuitem,</span><br><span class="line">#PersonalToolbar menu &#123;</span><br><span class="line">  font-size: 8.5pt !important; /* 9pt为默认大小 */</span><br><span class="line">&#125;</span><br><span class="line">/* Firefox 89 版本的书签行间距过大 可自行设置间距 */</span><br><span class="line">:root &#123;</span><br><span class="line">  --menu-padding: 0.01em;</span><br><span class="line">&#125;</span><br><span class="line">:root[uidensity=&quot;compact&quot;] &#123;</span><br><span class="line">  --menu-padding: 0.01em;</span><br><span class="line">&#125;</span><br><span class="line">:root[uidensity=&quot;touch&quot;] &#123;</span><br><span class="line">  --menu-padding: 0.01em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* Bookmark and context menu spacing */</span><br><span class="line">menupopup &gt; menuitem, menupopup &gt; menu &#123;padding-block: 0px !important;&#125;</span><br><span class="line"></span><br><span class="line">/* Options menu spacing */</span><br><span class="line">:root &#123;--arrowpanel-menuitem-padding: 0px 0px !important;&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2023/12/09/mpv%E9%85%8D%E7%BD%AE%E6%97%A0%E8%BE%B9%E6%A1%86-%E9%A1%B6%E9%83%A8%E8%BF%9B%E5%BA%A6%E6%9D%A1/">mpv配置无边框+顶部进度条</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2023-12-09T15:43:13.000Z" itemprop="datePublished">
    2023-12-09
  </time>
  
  
</div>

    </header>
    <div>
      
        <p>win配置默认路径%APPDATA%/mpv/<br>linux、mac配置默认路径~/.config/mpv/</p>
<p>./mpv.conf</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">screenshot-template=C:\\screenshot\\%f-%wH-%wM-%wS.%wT</span><br><span class="line">screenshot-format=jpg</span><br><span class="line">no-border</span><br><span class="line">autofit-larger=100%</span><br><span class="line">sub-auto=fuzzy</span><br><span class="line">vo=opengl-hq:interpolation:icc-profile-auto</span><br><span class="line">--osd-level=0</span><br><span class="line">cursor-autohide=1000</span><br><span class="line">save-position-on-quit</span><br></pre></td></tr></table></figure>

<p>./lua-settings/osc.conf</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">layout=topbar</span><br></pre></td></tr></table></figure>
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2023/03/04/vscode%E5%8F%8D%E5%A4%8D%E8%A6%81%E6%B1%82%E7%99%BB%E5%BD%95%EF%BC%8C%E5%88%A0%E9%99%A4%E9%87%8D%E5%A4%8D%E7%9A%84Windows%E5%87%AD%E6%8D%AE%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE/">vscode反复要求登录，删除重复的Windows凭据管理数据</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2023-03-04T13:20:18.000Z" itemprop="datePublished">
    2023-03-04
  </time>
  
  
</div>

    </header>
    <div>
      
        <p>参考链接：<a target="_blank" rel="noopener" href="https://github.com/microsoft/vscode/issues/174290">https://github.com/microsoft/vscode/issues/174290</a><br>cmd执行 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for /F &quot;tokens=1,2 delims= &quot; %G in (&#x27;cmdkey /list ^| findstr vscode&#x27;) do cmdkey /delete %H</span><br></pre></td></tr></table></figure>
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2023/02/01/%E7%BC%96%E8%AF%91Android%E6%BA%90%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%E7%BA%BF%E5%90%8E%E8%87%AA%E5%8A%A8%E5%BC%80%E5%90%AFUSB%E8%B0%83%E8%AF%95/">编译Android源码实现插入数据线后自动开启USB调试</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2023-01-31T16:11:34.000Z" itemprop="datePublished">
    2023-02-01
  </time>
  
  
</div>

    </header>
    <div>
      
        <p>frameworks/base/packages/SettingsLib/src/com/android/settingslib/development/AbstractEnableAdbPreferenceController.java</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Override</span><br><span class="line">public boolean handlePreferenceTreeClick(Preference preference) &#123;</span><br><span class="line">    if (isUserAMonkey()) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (TextUtils.equals(KEY_ENABLE_ADB, preference.getKey())) &#123;</span><br><span class="line">        if (!isAdbEnabled()) &#123;</span><br><span class="line">            //showConfirmationDialog(preference);</span><br><span class="line">            writeAdbSetting(true);</span><br><span class="line">            updateState(mPreference);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            writeAdbSetting(false);</span><br><span class="line">        &#125;</span><br><span class="line">        return true;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>frameworks/base/packages/SystemUI/src/com/android/systemui/usb/UsbDebuggingActivity.java</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Override</span><br><span class="line">public void onCreate(Bundle icicle) &#123;</span><br><span class="line">    Window window = getWindow();</span><br><span class="line">    window.addSystemFlags(</span><br><span class="line">            WindowManager.LayoutParams.SYSTEM_FLAG_HIDE_NON_SYSTEM_OVERLAY_WINDOWS);</span><br><span class="line">    window.setType(WindowManager.LayoutParams.TYPE_SYSTEM_DIALOG);</span><br><span class="line"></span><br><span class="line">    super.onCreate(icicle);</span><br><span class="line"></span><br><span class="line">    if (SystemProperties.getInt(&quot;service.adb.tcp.port&quot;, 0) == 0) &#123;</span><br><span class="line">        mDisconnectedReceiver = new UsbDisconnectedReceiver(this);</span><br><span class="line">        IntentFilter filter = new IntentFilter(UsbManager.ACTION_USB_STATE);</span><br><span class="line">        mBroadcastDispatcher.registerReceiver(mDisconnectedReceiver, filter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Intent intent = getIntent();</span><br><span class="line">    String fingerprints = intent.getStringExtra(&quot;fingerprints&quot;);</span><br><span class="line">    mKey = intent.getStringExtra(&quot;key&quot;);</span><br><span class="line"></span><br><span class="line">    if (fingerprints == null || mKey == null) &#123;</span><br><span class="line">        finish();</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    notifyService(true, true);</span><br><span class="line">    finish();</span><br><span class="line"></span><br><span class="line">    // final AlertController.AlertParams ap = mAlertParams;</span><br><span class="line">    // ap.mTitle = getString(R.string.usb_debugging_title);</span><br><span class="line">    // ap.mMessage = getString(R.string.usb_debugging_message, fingerprints);</span><br><span class="line">    // ap.mPositiveButtonText = getString(R.string.usb_debugging_allow);</span><br><span class="line">    // ap.mNegativeButtonText = getString(android.R.string.cancel);</span><br><span class="line">    // ap.mPositiveButtonListener = this;</span><br><span class="line">    // ap.mNegativeButtonListener = this;</span><br><span class="line"></span><br><span class="line">    // // add &quot;always allow&quot; checkbox</span><br><span class="line">    // LayoutInflater inflater = LayoutInflater.from(ap.mContext);</span><br><span class="line">    // View checkbox = inflater.inflate(com.android.internal.R.layout.always_use_checkbox, null);</span><br><span class="line">    // mAlwaysAllow = (CheckBox)checkbox.findViewById(com.android.internal.R.id.alwaysUse);</span><br><span class="line">    // mAlwaysAllow.setText(getString(R.string.usb_debugging_always));</span><br><span class="line">    // ap.mView = checkbox;</span><br><span class="line">    // window.setCloseOnTouchOutside(false);</span><br><span class="line"></span><br><span class="line">    // setupAlert();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2022/11/17/%E8%A7%A3%E5%86%B3%E5%BE%AE%E4%BF%A1iOS%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BF%94%E5%9B%9E%E6%97%B6%E9%A1%B5%E9%9D%A2%E5%8D%A1%E4%BD%8F%E9%97%AE%E9%A2%98/">解决微信iOS浏览器返回时页面卡住问题</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2022-11-17T04:16:15.000Z" itemprop="datePublished">
    2022-11-17
  </time>
  
  
</div>

    </header>
    <div>
      
        <p>参考文档：<br><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceNavigation">https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceNavigation</a></p>
<p>页面通过历史记录和前进后退访问时。type 值为 2。暴力刷新一下^_^</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">window.addEventListener(&#x27;pageshow&#x27;, (e) =&gt; &#123;</span><br><span class="line">    if (e.persisted || (window.performance &amp;&amp; window.performance.navigation.type == 2)) &#123;</span><br><span class="line">        location.reload();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2022/11/03/%E7%94%A8AutoHotKey%E7%BB%99windows%E6%B7%BB%E5%8A%A0%E5%BF%AB%E6%8D%B7%E9%94%AE/">用AutoHotKey给windows添加快捷键</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2022-11-03T01:00:32.000Z" itemprop="datePublished">
    2022-11-03
  </time>
  
  
</div>

    </header>
    <div>
      
        <p>将以下内容另存为keyremap.ahk，运行</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$!c::</span><br><span class="line">    IfWinActive,ahk_exe electerm.exe</span><br><span class="line">        SendInput &#123;Ctrl Down&#125;&#123;Shift Down&#125;&#123;c&#125;&#123;Ctrl Up&#125;&#123;Shift Up&#125;</span><br><span class="line">    Else</span><br><span class="line">        SendInput &#123;Ctrl Down&#125;&#123;c&#125;&#123;Ctrl Up&#125;</span><br><span class="line">Return</span><br><span class="line">$!x::</span><br><span class="line">    SendInput &#123;Ctrl Down&#125;&#123;x&#125;&#123;Ctrl Up&#125;</span><br><span class="line">Return</span><br><span class="line">$!v::</span><br><span class="line">    IfWinActive,ahk_exe electerm.exe</span><br><span class="line">        SendInput &#123;Ctrl Down&#125;&#123;Shift Down&#125;&#123;v&#125;&#123;Ctrl Up&#125;&#123;Shift Up&#125;</span><br><span class="line">    Else</span><br><span class="line">        SendInput &#123;Ctrl Down&#125;&#123;v&#125;&#123;Ctrl Up&#125;</span><br><span class="line">Return</span><br><span class="line">$!a::</span><br><span class="line">    SendInput &#123;Ctrl Down&#125;&#123;a&#125;&#123;Ctrl Up&#125;</span><br><span class="line">Return</span><br><span class="line">$!s::</span><br><span class="line">    IfWinActive,ahk_exe mpv.exe</span><br><span class="line">        SendInput !&#123;s&#125;</span><br><span class="line">    Else</span><br><span class="line">        SendInput &#123;Ctrl Down&#125;&#123;s&#125;&#123;Ctrl Up&#125;</span><br><span class="line">Return</span><br><span class="line">$!d::</span><br><span class="line">    IfWinActive,ahk_exe eclipse.exe</span><br><span class="line">        SendInput &#123;Ctrl Down&#125;&#123;d&#125;&#123;Ctrl Up&#125;</span><br><span class="line">    Else</span><br><span class="line">        SendInput !&#123;d&#125;</span><br><span class="line">Return</span><br><span class="line">$!w::</span><br><span class="line">    IfWinActive,ahk_exe electerm.exe </span><br><span class="line">        SendInput &#123;Ctrl Down&#125;&#123;Shift Down&#125;&#123;w&#125;&#123;Ctrl Up&#125;&#123;Shift Up&#125;</span><br><span class="line">    IfWinActive,ahk_exe idea64.exe</span><br><span class="line">        SendInput &#123;Ctrl Down&#125;&#123;F4&#125;&#123;Ctrl Up&#125;</span><br><span class="line">    IfWinActive,ahk_exe pycharm64.exe</span><br><span class="line">        SendInput &#123;Ctrl Down&#125;&#123;F4&#125;&#123;Ctrl Up&#125;</span><br><span class="line">    IfWinActive,ahk_exe webstorm64.exe</span><br><span class="line">        SendInput &#123;Ctrl Down&#125;&#123;F4&#125;&#123;Ctrl Up&#125;</span><br><span class="line">    IfWinActive,ahk_exe datagrip64.exe</span><br><span class="line">        SendInput &#123;Ctrl Down&#125;&#123;F4&#125;&#123;Ctrl Up&#125;</span><br><span class="line">    IfWinActive,ahk_exe goland64.exe</span><br><span class="line">        SendInput &#123;Ctrl Down&#125;&#123;F4&#125;&#123;Ctrl Up&#125;</span><br><span class="line">    Else</span><br><span class="line">        SendInput &#123;Ctrl Down&#125;&#123;w&#125;&#123;Ctrl Up&#125;</span><br><span class="line">Return</span><br><span class="line">$!z::</span><br><span class="line">    SendInput &#123;Ctrl Down&#125;&#123;z&#125;&#123;Ctrl Up&#125;</span><br><span class="line">Return</span><br><span class="line">$!r::</span><br><span class="line">    SendInput &#123;Ctrl Down&#125;&#123;r&#125;&#123;Ctrl Up&#125;</span><br><span class="line">Return</span><br><span class="line">$!t::</span><br><span class="line">    SendInput &#123;Ctrl Down&#125;&#123;t&#125;&#123;Ctrl Up&#125;</span><br><span class="line">Return</span><br><span class="line">$!q::</span><br><span class="line">    SendInput &#123;Alt Down&#125;&#123;F4&#125;&#123;Alt Up&#125;</span><br><span class="line">Return</span><br><span class="line">$!f::</span><br><span class="line">    SendInput &#123;Ctrl Down&#125;&#123;f&#125;&#123;Ctrl Up&#125;</span><br><span class="line">Return</span><br><span class="line">$!/::</span><br><span class="line">    SendInput &#123;Ctrl Down&#125;&#123;/&#125;&#123;Ctrl Up&#125;</span><br><span class="line">Return</span><br><span class="line"></span><br><span class="line">!space::Send ^&#123;space&#125;</span><br><span class="line">Return</span><br></pre></td></tr></table></figure>
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2022/10/01/Android%E7%81%AB%E7%8B%90%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E5%A4%B1%E8%B4%A5%E6%97%B6%E8%87%AA%E5%8A%A8%E5%88%B7%E6%96%B0/">Android火狐页面加载失败时自动刷新</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2022-09-30T17:20:36.000Z" itemprop="datePublished">
    2022-10-01
  </time>
  
  
</div>

    </header>
    <div>
      
        <p>检出<a target="_blank" rel="noopener" href="https://github.com/mozilla-mobile/fenix">https://github.com/mozilla-mobile/fenix</a><br>打开app/src/main/assets/lowMediumErrorPages.js<br>在最后一行添加 </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">setTimeout (window.location.reload (), 1000);</span><br></pre></td></tr></table></figure>
      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2022/09/18/windows%E7%B3%BB%E7%BB%9F%E6%B2%99%E7%9B%92%E5%86%85%E8%BF%90%E8%A1%8C%E5%BE%AE%E4%BF%A1/">windows系统沙盒内运行微信</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2022-09-18T15:15:46.000Z" itemprop="datePublished">
    2022-09-18
  </time>
  
  
</div>

    </header>
    <div>
      
        <p>参考链接：<br>启用系统沙盒<br><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows/security/threat-protection/windows-sandbox/windows-sandbox-overview">https://learn.microsoft.com/zh-cn/windows/security/threat-protection/windows-sandbox/windows-sandbox-overview</a><br>配置沙盒参数<br><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/windows/security/threat-protection/windows-sandbox/windows-sandbox-configure-using-wsb-file">https://learn.microsoft.com/zh-cn/windows/security/threat-protection/windows-sandbox/windows-sandbox-configure-using-wsb-file</a></p>
<p>1.创建本地目录，映射至沙盒内</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir C:\SandBoxFile\AppData\Local</span><br><span class="line">mkdir C:\SandBoxFile\AppData\LocalLow</span><br><span class="line">mkdir C:\SandBoxFile\AppData\Roaming</span><br><span class="line">mkdir C:\SandBoxFile\Desktop</span><br><span class="line">mkdir C:\SandBoxFile\Documents</span><br><span class="line">mkdir C:\SandBoxFile\Downloads</span><br><span class="line">mkdir &quot;C:\SandBoxFile\Program Files&quot;</span><br><span class="line">mkdir &quot;C:\SandBoxFile\Program Files (x86)&quot;</span><br><span class="line">mkdir C:\SandBoxFile\Programs</span><br></pre></td></tr></table></figure>

<p>2.新建sandbox.wsb文件，保存以下内容</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;Configuration&gt;</span><br><span class="line">    &lt;MappedFolders&gt;</span><br><span class="line">        &lt;MappedFolder&gt;</span><br><span class="line">            &lt;HostFolder&gt;C:\SandBoxFile\Programs&lt;/HostFolder&gt;</span><br><span class="line">            &lt;SandboxFolder&gt;C:\SandBoxFile\Programs&lt;/SandboxFolder&gt;</span><br><span class="line">            &lt;ReadOnly&gt;false&lt;/ReadOnly&gt;</span><br><span class="line">        &lt;/MappedFolder&gt;</span><br><span class="line">        &lt;MappedFolder&gt;</span><br><span class="line">            &lt;HostFolder&gt;C:\SandBoxFile\AppData&lt;/HostFolder&gt;</span><br><span class="line">            &lt;SandboxFolder&gt;C:\Users\WDAGUtilityAccount\AppData&lt;/SandboxFolder&gt;</span><br><span class="line">            &lt;ReadOnly&gt;false&lt;/ReadOnly&gt;</span><br><span class="line">        &lt;/MappedFolder&gt;</span><br><span class="line">        &lt;MappedFolder&gt;</span><br><span class="line">            &lt;HostFolder&gt;C:\SandBoxFile\Documents&lt;/HostFolder&gt;</span><br><span class="line">            &lt;SandboxFolder&gt;C:\Users\WDAGUtilityAccount\Documents&lt;/SandboxFolder&gt;</span><br><span class="line">            &lt;ReadOnly&gt;false&lt;/ReadOnly&gt;</span><br><span class="line">        &lt;/MappedFolder&gt;</span><br><span class="line">        &lt;MappedFolder&gt;</span><br><span class="line">            &lt;HostFolder&gt;C:\SandBoxFile\Downloads&lt;/HostFolder&gt;</span><br><span class="line">            &lt;SandboxFolder&gt;C:\Users\WDAGUtilityAccount\Downloads&lt;/SandboxFolder&gt;</span><br><span class="line">            &lt;ReadOnly&gt;false&lt;/ReadOnly&gt;</span><br><span class="line">        &lt;/MappedFolder&gt;</span><br><span class="line">        &lt;MappedFolder&gt;</span><br><span class="line">            &lt;HostFolder&gt;C:\SandBoxFile\Desktop&lt;/HostFolder&gt;</span><br><span class="line">            &lt;SandboxFolder&gt;C:\Users\WDAGUtilityAccount\Desktop&lt;/SandboxFolder&gt;</span><br><span class="line">            &lt;ReadOnly&gt;false&lt;/ReadOnly&gt;</span><br><span class="line">        &lt;/MappedFolder&gt;</span><br><span class="line">        &lt;MappedFolder&gt;</span><br><span class="line">            &lt;HostFolder&gt;C:\SandBoxFile\Program Files&lt;/HostFolder&gt;</span><br><span class="line">            &lt;SandboxFolder&gt;C:\Program Files&lt;/SandboxFolder&gt;</span><br><span class="line">            &lt;ReadOnly&gt;false&lt;/ReadOnly&gt;</span><br><span class="line">        &lt;/MappedFolder&gt;</span><br><span class="line">        &lt;MappedFolder&gt;</span><br><span class="line">            &lt;HostFolder&gt;C:\SandBoxFile\Program Files (x86)&lt;/HostFolder&gt;</span><br><span class="line">            &lt;SandboxFolder&gt;C:\Program Files (x86)&lt;/SandboxFolder&gt;</span><br><span class="line">            &lt;ReadOnly&gt;false&lt;/ReadOnly&gt;</span><br><span class="line">        &lt;/MappedFolder&gt;</span><br><span class="line">    &lt;/MappedFolders&gt;</span><br><span class="line">    &lt;AudioInput&gt;Enable&lt;/AudioInput&gt;</span><br><span class="line">    &lt;VideoInput&gt;Enable&lt;/VideoInput&gt;</span><br><span class="line">    &lt;MemoryInMB&gt;16384&lt;/MemoryInMB&gt;</span><br><span class="line">    &lt;LogonCommand&gt;</span><br><span class="line">        &lt;Command&gt;powershell.exe -ExecutionPolicy Bypass -File C:\SandBoxFile\Programs\sandboxinit.ps1&lt;/Command&gt;</span><br><span class="line">    &lt;/LogonCommand&gt;</span><br><span class="line">&lt;/Configuration&gt;</span><br></pre></td></tr></table></figure>

<p>3.新建C:\SandBoxFile\Programs\sandboxinit.ps1，保存以下内容</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#恢复经典右键菜单</span><br><span class="line">reg add &quot;HKCU\Software\Classes\CLSID\&#123;86ca1aa0-34aa-4e8b-a509-50c905bae2a2&#125;\InprocServer32&quot; /f /ve</span><br><span class="line">#桌面小图标</span><br><span class="line">Set-ItemProperty -path HKCU:\Software\Microsoft\Windows\Shell\Bags\1\Desktop -name IconSize -value 32</span><br><span class="line">#关闭任务栏搜索</span><br><span class="line">Set-ItemProperty -Path HKCU:\SOFTWARE\Microsoft\Windows\CurrentVersion\Search -Name SearchBoxTaskbarMode -Value 0 -Type DWord -Force</span><br><span class="line">#设置系统区域</span><br><span class="line">Set-Culture zh-CN</span><br><span class="line">Set-WinSystemLocale -SystemLocale zh-CN</span><br><span class="line">Set-WinUILanguageOverride -Language zh-CN</span><br><span class="line">Set-WinUserLanguageList zh-CN -Force</span><br><span class="line">Set-WinHomeLocation -GeoId 45</span><br><span class="line">Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False</span><br><span class="line">#显示扩展名</span><br><span class="line">Push-Location</span><br><span class="line">Set-Location HKCU:\Software\Microsoft\Windows\CurrentVersion\Explorer\Advanced</span><br><span class="line">Set-ItemProperty . HideFileExt &quot;0&quot;</span><br><span class="line">Pop-Location</span><br><span class="line">Stop-Process -processName: Explorer -force</span><br><span class="line"># 启用任务栏图标不分组和不合并</span><br><span class="line">Set-ItemProperty -Path &quot;HKCU:\Software\Microsoft\Windows\CurrentVersion\Explorer\Advanced&quot; -Name &quot;TaskbarGlomLevel&quot; -Value 2</span><br><span class="line">Set-ItemProperty -Path &quot;HKCU:\Software\Microsoft\Windows\CurrentVersion\Explorer\Advanced&quot; -Name &quot;TaskbarGroupSize&quot; -Value 1</span><br><span class="line"># 刷新任务栏以应用更改</span><br><span class="line">Stop-Process -Name explorer</span><br></pre></td></tr></table></figure>

<p>4.双击运行sandbox.wsb后安装微信</p>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2022/04/10/windows%E7%B3%BB%E7%BB%9F%E6%AD%BB%E5%BE%AA%E7%8E%AF%E6%89%93%E5%BC%80Android%E6%89%8B%E6%9C%BA%E5%BC%80%E5%90%AFUSB%E7%BD%91%E7%BB%9C%E5%85%B1%E4%BA%AB/">windows系统死循环打开Android手机开启USB网络共享</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2022-04-10T05:44:15.000Z" itemprop="datePublished">
    2022-04-10
  </time>
  
  
</div>

    </header>
    <div>
      
        <p>先把adb加入环境变量，执行adb devices得到设备代码99717cb2<br>然后将以下内容另存为bat文件后双击运行</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">:start</span><br><span class="line">adb -s 99717cb2 shell svc usb setFunctions rndis</span><br><span class="line">@ping -n 5 127.1 &gt;nul</span><br><span class="line">goto start</span><br></pre></td></tr></table></figure>
      
    </div>
</article>

    </li>
  
</ul>

  <section id="nav-wrapper">
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">next »</a>
    </nav>
  </section>


            <footer>
    <div>© 2024 - NetworkException </div>
    <div>
        <span>
            Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
        </span>
        ,
        <span>
            Theme - <a target="_blank" rel="noopener" href="https://github.com/nameoverflow/hexo-theme-icalm">Icalm</a>
        </span>
    </div>
</footer>

        </div>
    </div>
</div>

<script src="/js/pager/dist/singlepager.js"></script>

<script>
var sp = new Pager('data-pager-shell')

</script>
</body>
</html>